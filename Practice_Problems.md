# **Rails to SQL Worksheet**

For each statement, write down the SQL statement that will be generated by the method and used to query the database. Use a subquery when Rails would and a `JOIN` when Rails does. If a value is unknown and determined by the results of a prior query, use the variable `X` for that value.

---

## **1. Get all pending tasks in alphabetical order**
```ruby
Task.alphabetical.joins(:chores).merge(Chore.pending)
```
**SQL Answer:**
```sql
SKIP FOR NOW!

```

---

## **2. Find the last child who was added and list their completed chores**
```ruby
Child.last.chores.done
```
**SQL Answer:**
```sql
SELECT *
  FROM children
 ORDER BY id DESC
 LIMIT ? [["LIMIT", 1]]

SELECT *
  FROM chores
 WHERE child_id = ? and completed = ? [["child_id", x], ["completed", true]]
```

---

## **3. Get the first task that has at least one associated child**
```ruby
Task.joins(:children).first
```
**SQL Answer:**
```sql

```

---

## **4. Find all past chores that belong to children whose last name is 'Smith'**
```ruby
Chore.past.joins(:child).where(children: { last_name: 'Smith' })
```
**SQL Answer:**
```sql

```

---

## **5. Find the number of upcoming chores for a specific child (ID = X)**
```ruby
Chore.upcoming.where(child_id: X).count
```
**SQL Answer:**
```sql

```

---

## **6. Get all tasks associated with completed chores**
```ruby
Task.joins(:chores).merge(Chore.done).distinct
```
**SQL Answer:**
```sql

```

---

## **7. Find the names of children who have no assigned chores**
```ruby
Child.left_joins(:chores).where(chores: { id: nil }).pluck(:first_name, :last_name)
```
**SQL Answer:**
```sql

```

---

## **8. Get the earliest due chore that is not yet completed**
```ruby
Chore.pending.order(:due_on).first
```
**SQL Answer:**
```sql

```

---

## **9. Find all children who have completed all their assigned chores**
```ruby
Child.joins(:chores).group(:id).having("SUM(CASE WHEN chores.completed = false THEN 1 ELSE 0 END) = 0")
```
**SQL Answer:**
```sql

```

---

## **10. Get the list of children who have done at least one chore and order by their first name**
```ruby
Child.joins(:chores).merge(Chore.done).distinct.order(:first_name)
```
**SQL Answer:**
```sql

```

---

### **Instructions:**
- Copy and paste this content into a `.md` file.
- Fill in the SQL queries in the provided answer areas.
- Save and review your answers!

---

Let me know if you'd like additional questions or any modifications!

